<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="FlexJoystick-min.js"></script>
    <link rel="stylesheet" href="styles.css">
    <title>Basic examples</title>
</head>
<body>
    <h1>Basic example of all types of joysticks</h1>
    <br>
    <p style="text-align: center;">
        Joysticks on this page work only with mouse to make the example easier.
    </p>

    <h2>"Round" joystick</h2>
    <br>
    <div id="exampleDiv_1"></div>
    <table style="margin:auto;">
        <tr>
            <td class="textTd"><b>X:</b></td>
            <td class="spanTd">&nbsp;<span id="t1s1">0.00</span></td>
            <td class="textTd"><span><b>Y:</b></span></td>
            <td class="spanTd">&nbsp;<span id="t1s2">0.00</span></td>
            <td class="textTd"><span><b>Dir:</b></span></td>
            <td class="spanTd">&nbsp;<span id="t1s3">C</span></td>
        </tr>
    </table>
    <br>
    <h2>"Wide" joystick</h2>
    <br>
    <div id="exampleDiv_2"></div>
    <table style="margin:auto;">
        <tr>
            <td class="textTd"><b>X:</b></td>
            <td class="spanTd">&nbsp;<span id="t2s1">0.00</span></td>
            <td class="textTd"><span><b>Y:</b></span></td>
            <td class="spanTd">&nbsp;<span id="t2s2">0.00</span></td>
            <td class="textTd"><span><b>Dir:</b></span></td>
            <td class="spanTd">&nbsp;<span id="t2s3">C</span></td>
        </tr>
    </table>
    <br>
    <h2>"Long" joystick</h2>
    <br>
    <div id="exampleDiv_3"></div>
    <table style="margin:auto;">
        <tr>
            <td class="textTd"><b>X:</b></td>
            <td class="spanTd">&nbsp;<span id="t3s1">0.00</span></td>
            <td class="textTd"><span><b>Y:</b></span></td>
            <td class="spanTd">&nbsp;<span id="t3s2">0.00</span></td>
            <td class="textTd"><span><b>Dir:</b></span></td>
            <td class="spanTd">&nbsp;<span id="t3s3">C</span></td>
        </tr>
    </table>

    <script>
        let joystick1 = new FlexJoystick("exampleDiv_1");
        let joystick2 = new FlexJoystick("exampleDiv_2");
        let joystick3 = new FlexJoystick("exampleDiv_3");

        document.getElementById("exampleDiv_1").addEventListener("mousedown", function(event){
            document.onselectstart = () => {return false};
            joystick1.handleMouseDown(event);
            document.getElementById("t1s1").innerHTML = joystick1.getStickX().toFixed(2);
            document.getElementById("t1s2").innerHTML = joystick1.getStickY().toFixed(2);
            document.getElementById("t1s3").innerHTML = joystick1.getDirection();
        }, false);
        
        document.getElementById("exampleDiv_2").addEventListener("mousedown", function(event){
            document.onselectstart = () => {return false};
            joystick2.handleMouseDown(event);
            document.getElementById("t2s1").innerHTML = joystick2.getStickX().toFixed(2);
            document.getElementById("t2s2").innerHTML = joystick2.getStickY().toFixed(2);
            document.getElementById("t2s3").innerHTML = joystick2.getDirection();
        }, false);

        document.getElementById("exampleDiv_3").addEventListener("mousedown", function(event){
            document.onselectstart = () => {return false};
            joystick3.handleMouseDown(event);
            document.getElementById("t3s1").innerHTML = joystick3.getStickX().toFixed(2);
            document.getElementById("t3s2").innerHTML = joystick3.getStickY().toFixed(2);
            document.getElementById("t3s3").innerHTML = joystick3.getDirection();
        }, false);

        document.addEventListener("mousemove", function(event){
            joystick1.handleMouseMove(event);
            joystick2.handleMouseMove(event);
            joystick3.handleMouseMove(event);

            document.getElementById("t1s1").innerHTML = joystick1.getStickX().toFixed(2);
            document.getElementById("t1s2").innerHTML = joystick1.getStickY().toFixed(2);
            document.getElementById("t1s3").innerHTML = joystick1.getDirection();

            document.getElementById("t2s1").innerHTML = joystick2.getStickX().toFixed(2);
            document.getElementById("t2s2").innerHTML = joystick2.getStickY().toFixed(2);
            document.getElementById("t2s3").innerHTML = joystick2.getDirection();

            document.getElementById("t3s1").innerHTML = joystick3.getStickX().toFixed(2);
            document.getElementById("t3s2").innerHTML = joystick3.getStickY().toFixed(2);
            document.getElementById("t3s3").innerHTML = joystick3.getDirection();
        }, false);

        document.addEventListener("mouseup", function(event){
            document.onselectstart = () => {return true};

            joystick1.handleMouseUp(event, true);
            joystick2.handleMouseUp(event, true);
            joystick3.handleMouseUp(event, true);

            document.getElementById("t1s1").innerHTML = joystick1.getStickX().toFixed(2);
            document.getElementById("t1s2").innerHTML = joystick1.getStickY().toFixed(2);
            document.getElementById("t1s3").innerHTML = joystick1.getDirection();
            
            document.getElementById("t2s1").innerHTML = joystick2.getStickX().toFixed(2);
            document.getElementById("t2s2").innerHTML = joystick2.getStickY().toFixed(2);
            document.getElementById("t2s3").innerHTML = joystick2.getDirection();

            document.getElementById("t3s1").innerHTML = joystick3.getStickX().toFixed(2);
            document.getElementById("t3s2").innerHTML = joystick3.getStickY().toFixed(2);
            document.getElementById("t3s3").innerHTML = joystick3.getDirection();
        },false);

    </script>
</body>
</html>